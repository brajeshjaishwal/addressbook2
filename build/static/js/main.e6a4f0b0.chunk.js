(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{236:function(e,t){},248:function(e,t,a){e.exports=a(436)},253:function(e,t,a){},436:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(64),c=a.n(o),l=(a(253),a(33)),s=a(34),i=a(36),u=a(35),m=a(37),p=(a(255),a(446)),d=a(458),E=a(457),h=a(445),g=a(454),f=a(452),C=a(237);function b(e){var t=e.component,a=Object(C.a)(e,["component"]);return r.a.createElement(E.a,Object.assign({},a,{render:function(e){return r.a.createElement(t,e)}}))}var y=a(41),v=a.n(y),O=a(54),w=a(46),j=a(447),S=a(443),k=a(444),_=a(451),R=a(38),I=a(66),F={LOGIN:"LOGIN",LOGIN_SUCCEDED:"LOGIN_SUCCEDED",LOGIN_FAILED:"LOGIN_FAILED",REGISTER:"REGISTER",REGISTER_SUCCEDED:"REGISTER_SUCCEDED",REGISTER_FAILED:"REGISTER_FAILED"},x=a(215),A=a.n(x).a.create({baseURL:"http://localhost:3300/"}),D=function(e){var t="";return e.response?(console.log(e.response),t=e.response.data.message):e.request?(console.log(e.request),t="Network error"):(console.log("Error",e.message),t=e.message),console.log(e.config),t},G=F.REGISTER,L=F.REGISTER_FAILED,T=F.REGISTER_SUCCEDED,N=F.LOGIN,U=F.LOGIN_SUCCEDED,H=F.LOGIN_FAILED,z=function(e){var t=e.name,a=e.password,n=A.post("users/register",{name:t,password:a});return function(){var e=Object(O.a)(v.a.mark(function e(t){var a,o,c,l;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:G,payload:{error:!1,loading:!0}}),e.prev=1,e.next=4,n;case 4:return a=e.sent,e.next=7,a.data;case 7:o=e.sent,c=o.message,t(void 0!==c?r(c):{type:T,payload:{registered:!0,loading:!1}}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),l=D(e.t0),t(r(l));case 16:case"end":return e.stop()}},e,this,[[1,12]])}));return function(t){return e.apply(this,arguments)}}();function r(e){return{type:L,payload:{error:e,loading:!1}}}},P=function(e){var t=e.name,a=e.password;return function(){var e=Object(O.a)(v.a.mark(function e(o){var c,l,s,i,u,m;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o({type:N,payload:{error:!1,loading:!0}}),e.prev=1,e.next=4,A.post("users/login",{name:t,password:a});case 4:return c=e.sent,e.next=7,c.data;case 7:l=e.sent,s=l.user,i=l.token,u=l.message,s&&""!==s&&void 0!==s&&sessionStorage.setItem("name",s),i&&""!==i&&void 0!==i&&sessionStorage.setItem("token",i),o(null===s||void 0===s||void 0===i?r(u):n(s)),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(1),m=D(e.t0),o(r(m));case 20:case"end":return e.stop()}},e,this,[[1,16]])}));return function(t){return e.apply(this,arguments)}}();function n(e){return{type:U,payload:{user:e,loading:!1}}}function r(e){return{type:H,payload:{loading:!1,error:e}}}},M=new RegExp("^(?=.*[A-Z])"),q=new RegExp("^(?=.*[0-9])"),B=new RegExp("^(?=.*[!@#$%^&*])"),W=new RegExp("^(?=.{8,})"),J=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).onChangeHandler=function(e){if(a.setState(Object(w.a)({},e.target.name,e.target.value)),"password"===e.target.name){var t="";W.test(e.target.value)||(t+="length > 8, "),B.test(e.target.value)||(t+="special character, "),q.test(e.target.value)||(t+="number, "),M.test(e.target.value)||(t+="capital letter"),a.setState({passwordError:t})}},a.onSubmitHandler=function(){var e=Object(O.a)(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),console.log(a.state.name),a.state.name&&a.state.password){e.next=5;break}return alert("please enter required values."),e.abrupt("return");case 5:return a.setState({open:!1}),e.next=8,a.props.registerUser({name:a.state.name,password:a.state.password});case 8:sessionStorage.getItem("token")&&a.props.history.push("/");case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.state={name:"",password:"",open:!0,passwordError:"length > 8, special character, number, capital letter"},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.registered||!1;return r.a.createElement(j.a,{size:"mini",open:this.state.open,closeOnEscape:!1,closeOnDimmerClick:!1},r.a.createElement(j.a.Header,null,"User Information"),r.a.createElement(j.a.Content,null,r.a.createElement(S.a,{name:"name",fluid:!0,placeholder:"Enter name",style:{marginTop:"0.5em"},onChange:this.onChangeHandler,icon:"user",iconPosition:"left"}),r.a.createElement(S.a,{name:"email",fluid:!0,placeholder:"Enter username",style:{marginTop:"0.5em"},onChange:this.onChangeHandler,icon:"at",iconPosition:"left",label:"@inmar.com",labelPosition:"right"}),r.a.createElement(S.a,{name:"phone",fluid:!0,placeholder:"Enter phone number",style:{marginTop:"0.5em"},onChange:this.onChangeHandler,icon:"phone",iconPosition:"left"}),r.a.createElement(S.a,{name:"password",type:"password",fluid:!0,placeholder:"Enter password",icon:"key",iconPosition:"left",style:{marginTop:"0.5em"},onChange:this.onChangeHandler}),this.props.error&&r.a.createElement("span",{style:{color:"red"}},this.props.error),this.state.passwordError&&r.a.createElement("span",{style:{color:"red"}},this.state.passwordError),e&&r.a.createElement("span",{style:{color:"green"}},"Now you are registered, please login to proceed."),r.a.createElement(k.a,null),r.a.createElement(f.a,{name:"register",primary:!0,fluid:!0,onClick:this.onSubmitHandler,loading:this.props.loading&&this.state.register},"Register")),r.a.createElement(_.a,null,"Already a user? ",r.a.createElement("a",{href:"/login"},"Login")))}}]),t}(n.Component);var $=Object(I.b)(null,function(e){return{registerUser:Object(R.b)(z,e)}})(J),K=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).onChangeHandler=function(e){a.setState(Object(w.a)({},e.target.name,e.target.value))},a.onSubmitHandler=function(){var e=Object(O.a)(v.a.mark(function e(t){var n,r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(a.state),t.preventDefault(),a.state.name&&a.state.password){e.next=5;break}return alert("please enter required values."),e.abrupt("return");case 5:if(n=t.target.name,a.setState(Object(w.a)({},n,!0)),"login"!==t.target.name){e.next=12;break}return e.next=10,a.props.loginUser({name:a.state.name,password:a.state.password});case 10:e.next=14;break;case 12:return e.next=14,a.props.registerUser({name:a.state.name,password:a.state.password});case 14:r=sessionStorage.getItem("token"),a.setState(Object(w.a)({},n,!1)),console.log(r),r&&null!==r&&void 0!==r&&"undefined"!==r&&(a.setState({open:!1}),a.props.history.push("/Family"));case 18:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.state={name:"",password:"",open:!0,registered:!1,login:!1,register:!1},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.registered||!1;return r.a.createElement(j.a,{size:"mini",open:this.state.open,closeOnEscape:!1,closeOnDimmerClick:!1},r.a.createElement(j.a.Header,null,"User Information"),r.a.createElement(j.a.Content,null,r.a.createElement(S.a,{name:"email",fluid:!0,placeholder:"Enter your username",style:{marginTop:"0.5em"},onChange:this.onChangeHandler,icon:"at",iconPosition:"left",label:"@inmar.com",labelPosition:"right"}),r.a.createElement(S.a,{name:"password",type:"password",fluid:!0,placeholder:"Enter your password",icon:"key",iconPosition:"left",style:{marginTop:"0.5em"},onChange:this.onChangeHandler}),this.props.error&&r.a.createElement("span",{style:{color:"red"}},this.props.error),e&&r.a.createElement("span",{style:{color:"green"}},"Now you are registered, please login to proceed."),r.a.createElement(k.a,null),r.a.createElement(f.a,{name:"login",primary:!0,fluid:!0,size:"small",onClick:this.onSubmitHandler,loading:this.props.loading&&this.state.login},"Login")),r.a.createElement(_.a,null,"New to us? ",r.a.createElement("a",{href:"/register"},"Register")))}}]),t}(n.Component);var V=Object(I.b)(function(e){return{error:e.auth.error,loading:e.auth.loading,registered:e.auth.registered}},function(e){return{loginUser:Object(R.b)(P,e),registerUser:Object(R.b)(z,e)}})(K),Y=a(453),Z=a(449),Q=a(450),X=a(212),ee=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(Z.a.Item,{key:this.props.group},r.a.createElement(Q.a,{fluid:!0},r.a.createElement(Q.a.Content,null,r.a.createElement(Y.a,{columns:2},r.a.createElement(Y.a.Row,null,r.a.createElement(Y.a.Column,{width:"13"},r.a.createElement("div",null,this.props.group,r.a.createElement(X.a,{circular:!0,style:{marginLeft:"1em"}},"3"))),r.a.createElement(Y.a.Column,{width:"3"},r.a.createElement("div",null,r.a.createElement(f.a,{icon:"edit",size:"tiny",circular:!0}),r.a.createElement(f.a,{icon:"trash",size:"tiny",circular:!0,color:"red"}))))))))}}]),t}(n.Component),te=a(455),ae=a(129);function ne(e){return r.a.createElement(te.a,null,r.a.createElement(Y.a,{columns:3},r.a.createElement(Y.a.Row,null,r.a.createElement(Y.a.Column,null,r.a.createElement(g.a,{color:"grey"},r.a.createElement(ae.a,{name:"group"}),r.a.createElement(g.a.Content,null,"Groups"))),r.a.createElement(Y.a.Column,null,r.a.createElement(S.a,{type:"text",placeholder:"Add new group"},r.a.createElement("input",null),r.a.createElement(f.a,{icon:"add",size:"tiny"}))),r.a.createElement(Y.a.Column,null))),r.a.createElement(Z.a,null,r.a.createElement(ee,{group:"all"}),["friends","Project","Work"].map(function(e){return r.a.createElement(ee,{key:e,group:e})})))}var re=a(448),oe=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(Z.a.Item,{key:this.props.contact},r.a.createElement(Q.a,{fluid:!0},r.a.createElement(Q.a.Content,null,r.a.createElement(Q.a.Header,null,this.props.contact.name),r.a.createElement(Y.a,{columns:2},r.a.createElement(Y.a.Row,null,r.a.createElement(Y.a.Column,{width:"13"},r.a.createElement("div",null,this.props.contact.email),r.a.createElement("div",null,this.props.contact.phone)),r.a.createElement(Y.a.Column,{width:"3"},r.a.createElement("div",null,r.a.createElement(f.a,{icon:"edit",size:"tiny",circular:!0}),r.a.createElement(f.a,{icon:"trash",size:"tiny",circular:!0,color:"red"}))))))))}}]),t}(n.Component);function ce(e){return r.a.createElement(te.a,null,r.a.createElement(Y.a,{columns:3},r.a.createElement(Y.a.Row,null,r.a.createElement(Y.a.Column,null,r.a.createElement(g.a,{color:"grey"},r.a.createElement(ae.a,{name:"address book"}),r.a.createElement(g.a.Content,null,"Contacts"))),r.a.createElement(Y.a.Column,null,r.a.createElement(S.a,{type:"text",placeholder:"Search contact ...",action:!0},r.a.createElement("input",null),r.a.createElement(re.a,{compact:!0,options:[{key:"name",text:"name",value:"name"},{key:"email",text:"email",value:"email"},{key:"phone",text:"phone",value:"phone"}],defaultValue:"name"}),r.a.createElement(f.a,{icon:"search"}))),r.a.createElement(Y.a.Column,null))),r.a.createElement(Z.a,null,[{name:"Brajesh jaishwal",email:"brajesh.jaishwal@gmail.com",phone:"9413844898"},{name:"Shakun jaiswal",email:"shakun.jaiswal@gmail.com",phone:"7665432898"},{name:"Yesha jaiswal",email:"yesha.jaiswal@gmail.com",phone:"12345678"}].map(function(e){return r.a.createElement(oe,{key:e.email,contact:e})})))}var le=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(Y.a,{columns:2,divided:!0},r.a.createElement(Y.a.Row,{stretched:!0},r.a.createElement(Y.a.Column,null,r.a.createElement(ne,null)),r.a.createElement(Y.a.Column,null,r.a.createElement(ce,null))))}}]),t}(n.Component),se=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,null,r.a.createElement(h.a,null,r.a.createElement("div",{className:"ui four item menu"},r.a.createElement(g.a,{className:"item",color:"orange",textAlign:"left"},"CONTACT BOOK"),r.a.createElement(f.a,{basic:!0,primary:!0,icon:"plus",size:"small",circular:!0,content:"Add Contact"})),r.a.createElement(d.a,null,r.a.createElement(E.a,{exact:!0,path:"/",component:V}),r.a.createElement(E.a,{exact:!0,path:"/Login",component:V}),r.a.createElement(E.a,{exact:!0,path:"/Register",component:$}),r.a.createElement(E.a,{exact:!0,path:"/dashboard",component:le}),r.a.createElement(b,{path:"/Family"}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ie=a(235),ue=a(42),me={user:"",token:"",loading:!1,error:"",errorMessage:""},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(console.log("authreducer",e),t.type){case F.LOGIN:case F.LOGIN_FAILED:case F.LOGIN_SUCCEDED:return Object(ue.a)({},e,t.payload);case F.REGISTER:case F.REGISTER_FAILED:case F.REGISTER_SUCCEDED:return Object(ue.a)({},e,t.payload);default:return Object(ue.a)({},e)}},de=a(182),Ee=Object(ue.a)({},{AddContact:"AddContact",AddContact_Success:"AddContact_Success",AddContact_Failure:"AddContact_Failure",RemoveContact:"RemoveContact",RemoveContact_Success:"RemoveContact_Success",RemoveContact_Failure:"RemoveContact_Failure",EditContact:"EditContact",EditContact_Success:"EditContact_Success",EditContact_Failure:"EditContact_Failure",FetchContact:"FetchContact",FetchContact_Success:"FetchContact_Success",FetchContact_Failure:"FetchContact_Failure",ChangeActive_Contact:"ChangeActive_Contact",ChangeActive_Contact_Success:"ChangeActive_Contact_Success",ChangeActive_Contact_Failure:"ChangeActive_Contact_Failure"}),he={family:[{key:-1,name:"Family Tree",relation:"Root",parent:-1111}],key:"",loading:!1,error:"",errorMessage:"",success:!1};var ge=function(){var e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,n=arguments.length>1?arguments[1]:void 0;switch(console.log("familyReducer",a),n.type){case Ee.FetchFamily:case Ee.FetchFamily_Failure:return Object(ue.a)({},a,n.payload);case Ee.FetchFamily_Success:var r=a.key,o=n.payload,c=o.loading,l=o.error,s=(e=a.family,t=r,e.filter(function(e){return e.parent!==t})),i=Object(de.a)(s).concat(Object(de.a)(n.payload.members));return console.log(i),Object(ue.a)({},a,{family:Object(de.a)(i),loading:c,error:l});case Ee.AddMember:case Ee.AddMember_Failure:case Ee.AddMember_Success:return Object(ue.a)({},a,n.payload);default:return Object(ue.a)({},a)}},fe=a(236),Ce=a.n(fe),be=Object(R.c)({auth:pe,family:ge,group:Ce.a}),ye=Object(R.d)(be,Object(R.a)(ie.a));c.a.render(r.a.createElement(I.a,{store:ye},r.a.createElement(se,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[248,2,1]]]);
//# sourceMappingURL=main.e6a4f0b0.chunk.js.map